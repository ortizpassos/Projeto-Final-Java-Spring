<div class="display-container">
  <div *ngIf="splashParabens" class="splash-parabens">
    <h2>Parab√©ns {{ splashParabens.nome }}!</h2>
    <h2>Voc√™ bateu a meta!</h2>
  </div>
  <!-- Cabe√ßalho -->
  <header class="display-header">
    <div class="header-content">
      <h1>Monitor de Produ√ß√£o em Tempo Real</h1>
      <div class="data-hora">{{ dataHoraAtual }}</div>
    </div>
    <div class="kpis">
      <div class="kpi-card">
        <div class="kpi-icon">üìä</div>
        <div class="kpi-info">
          <div class="kpi-label">Total Produzido Hoje</div>
          <div class="kpi-value">{{ getTotalProducao() }}</div>
        </div>
      </div>
      <div class="kpi-card">
        <div class="kpi-icon">üè≠</div>
        <div class="kpi-info">
          <div class="kpi-label">Funcion√°rios Produzindo</div>
          <div class="kpi-value">{{ dispositivos.length }}</div>
        </div>
      </div>
    </div>
  </header>

  <!-- Tabela de Produ√ß√£o -->
  <div class="display-content">
    <table class="display-table">
      <thead>
        <tr>
          <th>Funcion√°rio</th>
          <th>Opera√ß√£o</th>
          <th>Grupo</th>
          <th>Meta</th>
          <th>Produ√ß√£o Atual</th>
          <!-- <th>Status</th> -->
        </tr>
      </thead>
      <tbody>
  <tr *ngFor="let dispositivo of dispositivosPaginados">
          <td class="funcionario-cell">
            <div class="funcionario-icon" [class.icon-producao]="dispositivo.status === 'em_producao'" [class.icon-offline]="dispositivo.status === 'offline'">üßç‚Äç‚ôÄÔ∏è</div>
            <span class="funcionario-nome">{{ dispositivo.funcionarioNome }}</span>
          </td>
          <td class="operacao-cell">
            {{ dispositivo.operacaoNome }}
          </td>
          <td class="grupo-cell">
            {{ dispositivo.operacaoSetor }}
          </td>
          <td class="meta-cell">
            <span class="meta-valor">{{ dispositivo.operacaoMeta }}</span>
          </td>
          <td class="producao-cell">
            <div class="producao-info">
              <div class="progress-container">
                <div 
                  class="progress-bar" 
                  [style.width.%]="calcularPorcentagemGeral(dispositivo.operacao?._id)"
                  [style.background-color]="getCorBarra(calcularPorcentagemGeral(dispositivo.operacao?._id))">
                </div>
                <span class="progress-text">
                  {{ dispositivo.producaoAtual || 0 }} / {{ dispositivo.operacaoMeta }} pe√ßas &mdash; {{ calcularPorcentagemGeral(dispositivo.operacao?._id) }}%
                </span>
              </div>
            </div>
          </td>
          <!-- <td class="status-cell">
            <span [ngClass]="dispositivo.statusClass">{{ dispositivo.statusTexto }}</span>
          </td> -->
        </tr>
      </tbody>
    </table>

    <div *ngIf="dispositivos.length === 0" class="empty-state">
      <div class="empty-icon">‚è∏Ô∏è</div>
      <p>Nenhum funcion√°rio em produ√ß√£o no momento</p>
    </div>

    <!-- Indicador de pagina√ß√£o -->
    <div *ngIf="totalPaginas > 1" class="pagination-indicator">
      <div class="pagination-dots">
        <span 
          *ngFor="let page of [].constructor(totalPaginas); let i = index" 
          class="dot" 
          [class.active]="i === paginaAtual"
          (click)="irParaPagina(i)">
        </span>
      </div>
      <div class="pagination-info">
        P√°gina {{ paginaAtual + 1 }} de {{ totalPaginas }}
      </div>
    </div>
  </div>

  <!-- Rodap√© -->
  <footer class="display-footer">
    <div class="footer-content">
      <span>Sistema de Monitoramento Industrial</span>
      <span class="pulse-indicator">‚óè Atualizando em tempo real</span>
    </div>
  </footer>
</div>
